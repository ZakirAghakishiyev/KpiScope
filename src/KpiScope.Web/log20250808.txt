2025-08-08 09:34:53.963 +04:00 [INF] Registered 6 endpoints in 2,356 milliseconds.
2025-08-08 09:34:55.334 +04:00 [ERR] An error occurred seeding the DB. No suitable constructor was found for entity type 'ContributorStatus'. The following constructors had parameters that could not be bound to properties of the entity type: 
    Cannot bind 'name', 'value' in 'ContributorStatus(string name, int value)'
Note that only mapped properties can be bound to constructor parameters. Navigations to related entities, including references to owned types, cannot be bound.
System.InvalidOperationException: No suitable constructor was found for entity type 'ContributorStatus'. The following constructors had parameters that could not be bound to properties of the entity type: 
    Cannot bind 'name', 'value' in 'ContributorStatus(string name, int value)'
Note that only mapped properties can be bound to constructor parameters. Navigations to related entities, including references to owned types, cannot be bound.
   at Microsoft.EntityFrameworkCore.Metadata.Internal.ConstructorBindingFactory.GetBindings[T](T type, Func`5 bindToProperty, Func`5 bind, InstantiationBinding& constructorBinding, InstantiationBinding& serviceOnlyBinding)
   at Microsoft.EntityFrameworkCore.Metadata.Internal.ConstructorBindingFactory.GetBindings(IMutableEntityType entityType, InstantiationBinding& constructorBinding, InstantiationBinding& serviceOnlyBinding)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.ConstructorBindingConvention.ProcessModelFinalizing(IConventionModelBuilder modelBuilder, IConventionContext`1 context)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.Internal.ConventionDispatcher.ImmediateConventionScope.OnModelFinalizing(IConventionModelBuilder modelBuilder)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.Internal.ConventionDispatcher.OnModelFinalizing(IConventionModelBuilder modelBuilder)
   at Microsoft.EntityFrameworkCore.Metadata.Internal.Model.FinalizeModel()
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelRuntimeInitializer.Initialize(IModel model, Boolean designTime, IDiagnosticsLogger`1 validationLogger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.CreateModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel(Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__8_4(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_ContextServices()
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Infrastructure.IInfrastructure<System.IServiceProvider>.get_Instance()
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.InfrastructureExtensions.GetService(IInfrastructure`1 accessor, Type serviceType)
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.InfrastructureExtensions.GetService[TService](IInfrastructure`1 accessor)
   at Microsoft.EntityFrameworkCore.Infrastructure.AccessorExtensions.GetService[TService](IInfrastructure`1 accessor)
   at Microsoft.EntityFrameworkCore.Infrastructure.DatabaseFacade.get_Dependencies()
   at Microsoft.EntityFrameworkCore.Infrastructure.DatabaseFacade.EnsureCreatedAsync(CancellationToken cancellationToken)
   at KpiScope.Web.Configurations.MiddlewareConfig.SeedDatabase(WebApplication app) in E:\Work\KPI\KpiScope\src\KpiScope.Web\Configurations\MiddlewareConfig.cs:line 40
2025-08-08 09:39:38.713 +04:00 [INF] Registered 6 endpoints in 3,517 milliseconds.
2025-08-08 09:39:40.446 +04:00 [ERR] An error occurred seeding the DB. The entity type 'ContributorStatus' requires a primary key to be defined. If you intended to use a keyless entity type, call 'HasNoKey' in 'OnModelCreating'. For more information on keyless entity types, see https://go.microsoft.com/fwlink/?linkid=2141943.
System.InvalidOperationException: The entity type 'ContributorStatus' requires a primary key to be defined. If you intended to use a keyless entity type, call 'HasNoKey' in 'OnModelCreating'. For more information on keyless entity types, see https://go.microsoft.com/fwlink/?linkid=2141943.
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.ValidateNonNullPrimaryKeys(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.RelationalModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.SqlServer.Infrastructure.Internal.SqlServerModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelRuntimeInitializer.Initialize(IModel model, Boolean designTime, IDiagnosticsLogger`1 validationLogger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.CreateModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel(Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__8_4(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_ContextServices()
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Infrastructure.IInfrastructure<System.IServiceProvider>.get_Instance()
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.InfrastructureExtensions.GetService(IInfrastructure`1 accessor, Type serviceType)
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.InfrastructureExtensions.GetService[TService](IInfrastructure`1 accessor)
   at Microsoft.EntityFrameworkCore.Infrastructure.AccessorExtensions.GetService[TService](IInfrastructure`1 accessor)
   at Microsoft.EntityFrameworkCore.Infrastructure.DatabaseFacade.get_Dependencies()
   at Microsoft.EntityFrameworkCore.Infrastructure.DatabaseFacade.EnsureCreatedAsync(CancellationToken cancellationToken)
   at KpiScope.Web.Configurations.MiddlewareConfig.SeedDatabase(WebApplication app) in E:\Work\KPI\KpiScope\src\KpiScope.Web\Configurations\MiddlewareConfig.cs:line 40
2025-08-08 09:40:34.418 +04:00 [INF] Registered 6 endpoints in 1,630 milliseconds.
2025-08-08 09:40:36.804 +04:00 [ERR] An error occurred seeding the DB. The ConnectionString property has not been initialized.
System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabaseCreator.EnsureCreatedAsync(CancellationToken cancellationToken)
   at KpiScope.Web.Configurations.MiddlewareConfig.SeedDatabase(WebApplication app) in E:\Work\KPI\KpiScope\src\KpiScope.Web\Configurations\MiddlewareConfig.cs:line 40
2025-08-08 09:42:34.773 +04:00 [INF] Secrets: KpiScope.Infrastructure.Configuration.MySecretsOptions
2025-08-08 09:42:35.416 +04:00 [INF] Registered 6 endpoints in 4,794 milliseconds.
2025-08-08 09:42:35.969 +04:00 [INF] Secrets: KpiScope.Infrastructure.Configuration.MySecretsOptions
2025-08-08 09:42:39.537 +04:00 [ERR] An error occurred seeding the DB. The ConnectionString property has not been initialized.
System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabaseCreator.EnsureCreatedAsync(CancellationToken cancellationToken)
   at KpiScope.Web.Configurations.MiddlewareConfig.SeedDatabase(WebApplication app) in E:\Work\KPI\KpiScope\src\KpiScope.Web\Configurations\MiddlewareConfig.cs:line 40
2025-08-08 09:42:39.589 +04:00 [INF] Secrets: KpiScope.Infrastructure.Configuration.MySecretsOptions
2025-08-08 09:49:12.011 +04:00 [INF] Secrets: KpiScope.Infrastructure.Configuration.MySecretsOptions
2025-08-08 09:49:12.273 +04:00 [INF] Registered 6 endpoints in 4,632 milliseconds.
2025-08-08 09:49:12.932 +04:00 [INF] Secrets: KpiScope.Infrastructure.Configuration.MySecretsOptions
2025-08-08 09:49:14.027 +04:00 [ERR] An error occurred seeding the DB. The ConnectionString property has not been initialized.
System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabaseCreator.EnsureCreatedAsync(CancellationToken cancellationToken)
   at KpiScope.Web.Configurations.MiddlewareConfig.SeedDatabase(WebApplication app) in E:\Work\KPI\KpiScope\src\KpiScope.Web\Configurations\MiddlewareConfig.cs:line 40
2025-08-08 09:49:14.057 +04:00 [INF] Secrets: KpiScope.Infrastructure.Configuration.MySecretsOptions
2025-08-08 09:51:14.936 +04:00 [INF] Registered 6 endpoints in 374 milliseconds.
2025-08-08 09:51:16.740 +04:00 [INF] Executed DbCommand (543ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [KPI];
2025-08-08 09:51:16.874 +04:00 [INF] Executed DbCommand (128ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [KPI] SET READ_COMMITTED_SNAPSHOT ON;
END;
2025-08-08 09:51:16.899 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-08 09:51:17.045 +04:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Companies] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    [Address] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Companies] PRIMARY KEY ([Id])
);
2025-08-08 09:51:17.049 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [DynamicValues] (
    [Id] int NOT NULL IDENTITY,
    [Type] int NOT NULL,
    [JsonValue] nvarchar(max) NOT NULL,
    [Name] nvarchar(max) NULL,
    CONSTRAINT [PK_DynamicValues] PRIMARY KEY ([Id])
);
2025-08-08 09:51:17.054 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [KpiGroups] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_KpiGroups] PRIMARY KEY ([Id])
);
2025-08-08 09:51:17.062 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] int NOT NULL IDENTITY,
    [Username] nvarchar(max) NOT NULL,
    [Email] nvarchar(max) NOT NULL,
    [PasswordHash] nvarchar(max) NOT NULL,
    [CompanyId] int NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Users_Companies_CompanyId] FOREIGN KEY ([CompanyId]) REFERENCES [Companies] ([Id]) ON DELETE CASCADE
);
2025-08-08 09:51:17.076 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Kpis] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    [GriIndex] int NOT NULL,
    [TimePeriod] int NOT NULL,
    [KpiGroupId] int NOT NULL,
    [CompanyId] int NULL,
    CONSTRAINT [PK_Kpis] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Kpis_Companies_CompanyId] FOREIGN KEY ([CompanyId]) REFERENCES [Companies] ([Id]),
    CONSTRAINT [FK_Kpis_KpiGroups_KpiGroupId] FOREIGN KEY ([KpiGroupId]) REFERENCES [KpiGroups] ([Id]) ON DELETE CASCADE
);
2025-08-08 09:51:17.111 +04:00 [ERR] Failed executing DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [KpiGroupCompanys] (
    [Id] int NOT NULL IDENTITY,
    [KpiGroupId] int NOT NULL,
    [CompanyId] int NOT NULL,
    [UserId] int NOT NULL,
    CONSTRAINT [PK_KpiGroupCompanys] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_KpiGroupCompanys_Companies_CompanyId] FOREIGN KEY ([CompanyId]) REFERENCES [Companies] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_KpiGroupCompanys_KpiGroups_KpiGroupId] FOREIGN KEY ([KpiGroupId]) REFERENCES [KpiGroups] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_KpiGroupCompanys_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2025-08-08 09:51:17.134 +04:00 [ERR] An error occurred seeding the DB. Introducing FOREIGN KEY constraint 'FK_KpiGroupCompanys_Users_UserId' on table 'KpiGroupCompanys' may cause cycles or multiple cascade paths. Specify ON DELETE NO ACTION or ON UPDATE NO ACTION, or modify other FOREIGN KEY constraints.
Could not create constraint or index. See previous errors.
Microsoft.Data.SqlClient.SqlException (0x80131904): Introducing FOREIGN KEY constraint 'FK_KpiGroupCompanys_Users_UserId' on table 'KpiGroupCompanys' may cause cycles or multiple cascade paths. Specify ON DELETE NO ACTION or ON UPDATE NO ACTION, or modify other FOREIGN KEY constraints.
Could not create constraint or index. See previous errors.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteNonQuery(IAsyncResult asyncResult, Boolean isInternal, String endMethod)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryInternal(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryAsync(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<InternalExecuteNonQueryAsync>b__210_1(IAsyncResult result)
   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteAsync(IReadOnlyList`1 migrationCommands, IRelationalConnection connection, MigrationExecutionState executionState, Boolean beginTransaction, Boolean commitTransaction, Nullable`1 isolationLevel, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteAsync(IReadOnlyList`1 migrationCommands, IRelationalConnection connection, MigrationExecutionState executionState, Boolean beginTransaction, Boolean commitTransaction, Nullable`1 isolationLevel, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IReadOnlyList`1 migrationCommands, IRelationalConnection connection, MigrationExecutionState executionState, Boolean commitTransaction, Nullable`1 isolationLevel, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabaseCreator.EnsureCreatedAsync(CancellationToken cancellationToken)
   at KpiScope.Web.Configurations.MiddlewareConfig.SeedDatabase(WebApplication app) in E:\Work\KPI\KpiScope\src\KpiScope.Web\Configurations\MiddlewareConfig.cs:line 40
ClientConnectionId:143caa85-a38c-442e-9820-1d6fbb4fd1d1
Error Number:1785,State:0,Class:16
2025-08-08 09:51:17.199 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-08 09:51:17.341 +04:00 [INF] Executed DbCommand (135ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-08 09:51:17.362 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Companies] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    [Address] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Companies] PRIMARY KEY ([Id])
);
2025-08-08 09:51:17.367 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [DynamicValues] (
    [Id] int NOT NULL IDENTITY,
    [Type] int NOT NULL,
    [JsonValue] nvarchar(max) NOT NULL,
    [Name] nvarchar(max) NULL,
    CONSTRAINT [PK_DynamicValues] PRIMARY KEY ([Id])
);
2025-08-08 09:51:17.375 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [KpiGroups] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_KpiGroups] PRIMARY KEY ([Id])
);
2025-08-08 09:51:17.390 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] int NOT NULL IDENTITY,
    [Username] nvarchar(max) NOT NULL,
    [Email] nvarchar(max) NOT NULL,
    [PasswordHash] nvarchar(max) NOT NULL,
    [CompanyId] int NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Users_Companies_CompanyId] FOREIGN KEY ([CompanyId]) REFERENCES [Companies] ([Id]) ON DELETE CASCADE
);
2025-08-08 09:51:17.405 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Kpis] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    [GriIndex] int NOT NULL,
    [TimePeriod] int NOT NULL,
    [KpiGroupId] int NOT NULL,
    [CompanyId] int NULL,
    CONSTRAINT [PK_Kpis] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Kpis_Companies_CompanyId] FOREIGN KEY ([CompanyId]) REFERENCES [Companies] ([Id]),
    CONSTRAINT [FK_Kpis_KpiGroups_KpiGroupId] FOREIGN KEY ([KpiGroupId]) REFERENCES [KpiGroups] ([Id]) ON DELETE CASCADE
);
2025-08-08 09:51:17.424 +04:00 [ERR] Failed executing DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [KpiGroupCompanys] (
    [Id] int NOT NULL IDENTITY,
    [KpiGroupId] int NOT NULL,
    [CompanyId] int NOT NULL,
    [UserId] int NOT NULL,
    CONSTRAINT [PK_KpiGroupCompanys] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_KpiGroupCompanys_Companies_CompanyId] FOREIGN KEY ([CompanyId]) REFERENCES [Companies] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_KpiGroupCompanys_KpiGroups_KpiGroupId] FOREIGN KEY ([KpiGroupId]) REFERENCES [KpiGroups] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_KpiGroupCompanys_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2025-08-08 09:57:49.312 +04:00 [INF] Registered 6 endpoints in 303 milliseconds.
2025-08-08 09:57:50.325 +04:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-08 09:57:50.484 +04:00 [INF] Executed DbCommand (145ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-08 09:57:50.642 +04:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Companies] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    [Address] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Companies] PRIMARY KEY ([Id])
);
2025-08-08 09:57:50.647 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [DynamicValues] (
    [Id] int NOT NULL IDENTITY,
    [Type] int NOT NULL,
    [JsonValue] nvarchar(max) NOT NULL,
    [Name] nvarchar(max) NULL,
    CONSTRAINT [PK_DynamicValues] PRIMARY KEY ([Id])
);
2025-08-08 09:57:50.652 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [KpiGroups] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_KpiGroups] PRIMARY KEY ([Id])
);
2025-08-08 09:57:50.659 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] int NOT NULL IDENTITY,
    [Username] nvarchar(max) NOT NULL,
    [Email] nvarchar(max) NOT NULL,
    [PasswordHash] nvarchar(max) NOT NULL,
    [CompanyId] int NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Users_Companies_CompanyId] FOREIGN KEY ([CompanyId]) REFERENCES [Companies] ([Id]) ON DELETE CASCADE
);
2025-08-08 09:57:50.666 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Kpis] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    [GriIndex] int NOT NULL,
    [TimePeriod] int NOT NULL,
    [KpiGroupId] int NOT NULL,
    [CompanyId] int NULL,
    CONSTRAINT [PK_Kpis] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Kpis_Companies_CompanyId] FOREIGN KEY ([CompanyId]) REFERENCES [Companies] ([Id]),
    CONSTRAINT [FK_Kpis_KpiGroups_KpiGroupId] FOREIGN KEY ([KpiGroupId]) REFERENCES [KpiGroups] ([Id]) ON DELETE CASCADE
);
2025-08-08 09:57:50.674 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [KpiGroupCompanys] (
    [Id] int NOT NULL IDENTITY,
    [KpiGroupId] int NOT NULL,
    [CompanyId] int NOT NULL,
    [UserId] int NOT NULL,
    CONSTRAINT [PK_KpiGroupCompanys] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_KpiGroupCompanys_Companies_CompanyId] FOREIGN KEY ([CompanyId]) REFERENCES [Companies] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_KpiGroupCompanys_KpiGroups_KpiGroupId] FOREIGN KEY ([KpiGroupId]) REFERENCES [KpiGroups] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_KpiGroupCompanys_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE NO ACTION
);
2025-08-08 09:57:50.683 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [KpiConfirmations] (
    [Id] int NOT NULL IDENTITY,
    [KpiGroupCompanyId] int NOT NULL,
    [StepNumber] int NOT NULL,
    CONSTRAINT [PK_KpiConfirmations] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_KpiConfirmations_KpiGroupCompanys_KpiGroupCompanyId] FOREIGN KEY ([KpiGroupCompanyId]) REFERENCES [KpiGroupCompanys] ([Id]) ON DELETE CASCADE
);
2025-08-08 09:57:50.731 +04:00 [ERR] Failed executing DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [KpiConfirmationUsers] (
    [Id] int NOT NULL IDENTITY,
    [KpiConfirmationId] int NOT NULL,
    [UserId] int NOT NULL,
    [StepNumber] int NOT NULL,
    [IsConfirmed] bit NOT NULL,
    [Comment] nvarchar(max) NOT NULL,
    [ActionDate] datetime2 NULL,
    CONSTRAINT [PK_KpiConfirmationUsers] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_KpiConfirmationUsers_KpiConfirmations_KpiConfirmationId] FOREIGN KEY ([KpiConfirmationId]) REFERENCES [KpiConfirmations] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_KpiConfirmationUsers_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2025-08-08 09:57:50.745 +04:00 [ERR] An error occurred seeding the DB. Introducing FOREIGN KEY constraint 'FK_KpiConfirmationUsers_Users_UserId' on table 'KpiConfirmationUsers' may cause cycles or multiple cascade paths. Specify ON DELETE NO ACTION or ON UPDATE NO ACTION, or modify other FOREIGN KEY constraints.
Could not create constraint or index. See previous errors.
Microsoft.Data.SqlClient.SqlException (0x80131904): Introducing FOREIGN KEY constraint 'FK_KpiConfirmationUsers_Users_UserId' on table 'KpiConfirmationUsers' may cause cycles or multiple cascade paths. Specify ON DELETE NO ACTION or ON UPDATE NO ACTION, or modify other FOREIGN KEY constraints.
Could not create constraint or index. See previous errors.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteNonQuery(IAsyncResult asyncResult, Boolean isInternal, String endMethod)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryInternal(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryAsync(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<InternalExecuteNonQueryAsync>b__210_1(IAsyncResult result)
   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteAsync(IReadOnlyList`1 migrationCommands, IRelationalConnection connection, MigrationExecutionState executionState, Boolean beginTransaction, Boolean commitTransaction, Nullable`1 isolationLevel, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteAsync(IReadOnlyList`1 migrationCommands, IRelationalConnection connection, MigrationExecutionState executionState, Boolean beginTransaction, Boolean commitTransaction, Nullable`1 isolationLevel, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IReadOnlyList`1 migrationCommands, IRelationalConnection connection, MigrationExecutionState executionState, Boolean commitTransaction, Nullable`1 isolationLevel, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabaseCreator.EnsureCreatedAsync(CancellationToken cancellationToken)
   at KpiScope.Web.Configurations.MiddlewareConfig.SeedDatabase(WebApplication app) in E:\Work\KPI\KpiScope\src\KpiScope.Web\Configurations\MiddlewareConfig.cs:line 40
ClientConnectionId:095391bc-7cb8-4965-8bd8-51150b2ca0fe
Error Number:1785,State:0,Class:16
2025-08-08 09:57:50.851 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-08 09:57:50.860 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-08 09:57:50.898 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Companies] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    [Address] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Companies] PRIMARY KEY ([Id])
);
2025-08-08 09:57:50.906 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [DynamicValues] (
    [Id] int NOT NULL IDENTITY,
    [Type] int NOT NULL,
    [JsonValue] nvarchar(max) NOT NULL,
    [Name] nvarchar(max) NULL,
    CONSTRAINT [PK_DynamicValues] PRIMARY KEY ([Id])
);
2025-08-08 09:57:50.912 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [KpiGroups] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_KpiGroups] PRIMARY KEY ([Id])
);
2025-08-08 09:57:50.921 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] int NOT NULL IDENTITY,
    [Username] nvarchar(max) NOT NULL,
    [Email] nvarchar(max) NOT NULL,
    [PasswordHash] nvarchar(max) NOT NULL,
    [CompanyId] int NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Users_Companies_CompanyId] FOREIGN KEY ([CompanyId]) REFERENCES [Companies] ([Id]) ON DELETE CASCADE
);
2025-08-08 09:57:50.928 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Kpis] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    [GriIndex] int NOT NULL,
    [TimePeriod] int NOT NULL,
    [KpiGroupId] int NOT NULL,
    [CompanyId] int NULL,
    CONSTRAINT [PK_Kpis] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Kpis_Companies_CompanyId] FOREIGN KEY ([CompanyId]) REFERENCES [Companies] ([Id]),
    CONSTRAINT [FK_Kpis_KpiGroups_KpiGroupId] FOREIGN KEY ([KpiGroupId]) REFERENCES [KpiGroups] ([Id]) ON DELETE CASCADE
);
2025-08-08 09:57:50.940 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [KpiGroupCompanys] (
    [Id] int NOT NULL IDENTITY,
    [KpiGroupId] int NOT NULL,
    [CompanyId] int NOT NULL,
    [UserId] int NOT NULL,
    CONSTRAINT [PK_KpiGroupCompanys] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_KpiGroupCompanys_Companies_CompanyId] FOREIGN KEY ([CompanyId]) REFERENCES [Companies] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_KpiGroupCompanys_KpiGroups_KpiGroupId] FOREIGN KEY ([KpiGroupId]) REFERENCES [KpiGroups] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_KpiGroupCompanys_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE NO ACTION
);
2025-08-08 09:57:50.946 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [KpiConfirmations] (
    [Id] int NOT NULL IDENTITY,
    [KpiGroupCompanyId] int NOT NULL,
    [StepNumber] int NOT NULL,
    CONSTRAINT [PK_KpiConfirmations] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_KpiConfirmations_KpiGroupCompanys_KpiGroupCompanyId] FOREIGN KEY ([KpiGroupCompanyId]) REFERENCES [KpiGroupCompanys] ([Id]) ON DELETE CASCADE
);
2025-08-08 09:57:50.961 +04:00 [ERR] Failed executing DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [KpiConfirmationUsers] (
    [Id] int NOT NULL IDENTITY,
    [KpiConfirmationId] int NOT NULL,
    [UserId] int NOT NULL,
    [StepNumber] int NOT NULL,
    [IsConfirmed] bit NOT NULL,
    [Comment] nvarchar(max) NOT NULL,
    [ActionDate] datetime2 NULL,
    CONSTRAINT [PK_KpiConfirmationUsers] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_KpiConfirmationUsers_KpiConfirmations_KpiConfirmationId] FOREIGN KEY ([KpiConfirmationId]) REFERENCES [KpiConfirmations] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_KpiConfirmationUsers_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2025-08-08 09:58:50.272 +04:00 [INF] Registered 6 endpoints in 352 milliseconds.
2025-08-08 09:58:51.029 +04:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-08 09:58:51.089 +04:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-08 09:58:51.213 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Companies] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    [Address] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Companies] PRIMARY KEY ([Id])
);
2025-08-08 09:58:51.219 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [DynamicValues] (
    [Id] int NOT NULL IDENTITY,
    [Type] int NOT NULL,
    [JsonValue] nvarchar(max) NOT NULL,
    [Name] nvarchar(max) NULL,
    CONSTRAINT [PK_DynamicValues] PRIMARY KEY ([Id])
);
2025-08-08 09:58:51.225 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [KpiGroups] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_KpiGroups] PRIMARY KEY ([Id])
);
2025-08-08 09:58:51.232 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] int NOT NULL IDENTITY,
    [Username] nvarchar(max) NOT NULL,
    [Email] nvarchar(max) NOT NULL,
    [PasswordHash] nvarchar(max) NOT NULL,
    [CompanyId] int NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Users_Companies_CompanyId] FOREIGN KEY ([CompanyId]) REFERENCES [Companies] ([Id]) ON DELETE CASCADE
);
2025-08-08 09:58:51.238 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Kpis] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    [GriIndex] int NOT NULL,
    [TimePeriod] int NOT NULL,
    [KpiGroupId] int NOT NULL,
    [CompanyId] int NULL,
    CONSTRAINT [PK_Kpis] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Kpis_Companies_CompanyId] FOREIGN KEY ([CompanyId]) REFERENCES [Companies] ([Id]),
    CONSTRAINT [FK_Kpis_KpiGroups_KpiGroupId] FOREIGN KEY ([KpiGroupId]) REFERENCES [KpiGroups] ([Id]) ON DELETE CASCADE
);
2025-08-08 09:58:51.241 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [KpiGroupCompanys] (
    [Id] int NOT NULL IDENTITY,
    [KpiGroupId] int NOT NULL,
    [CompanyId] int NOT NULL,
    [UserId] int NOT NULL,
    CONSTRAINT [PK_KpiGroupCompanys] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_KpiGroupCompanys_Companies_CompanyId] FOREIGN KEY ([CompanyId]) REFERENCES [Companies] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_KpiGroupCompanys_KpiGroups_KpiGroupId] FOREIGN KEY ([KpiGroupId]) REFERENCES [KpiGroups] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_KpiGroupCompanys_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE NO ACTION
);
2025-08-08 09:58:51.247 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [KpiConfirmations] (
    [Id] int NOT NULL IDENTITY,
    [KpiGroupCompanyId] int NOT NULL,
    [StepNumber] int NOT NULL,
    CONSTRAINT [PK_KpiConfirmations] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_KpiConfirmations_KpiGroupCompanys_KpiGroupCompanyId] FOREIGN KEY ([KpiGroupCompanyId]) REFERENCES [KpiGroupCompanys] ([Id]) ON DELETE CASCADE
);
2025-08-08 09:58:51.252 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [KpiConfirmationUsers] (
    [Id] int NOT NULL IDENTITY,
    [KpiConfirmationId] int NOT NULL,
    [UserId] int NOT NULL,
    [StepNumber] int NOT NULL,
    [IsConfirmed] bit NOT NULL,
    [Comment] nvarchar(max) NOT NULL,
    [ActionDate] datetime2 NULL,
    CONSTRAINT [PK_KpiConfirmationUsers] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_KpiConfirmationUsers_KpiConfirmations_KpiConfirmationId] FOREIGN KEY ([KpiConfirmationId]) REFERENCES [KpiConfirmations] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_KpiConfirmationUsers_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE NO ACTION
);
2025-08-08 09:58:51.259 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [KpiValues] (
    [Id] int NOT NULL IDENTITY,
    [KpiId] int NOT NULL,
    [ValueId] int NOT NULL,
    [Status] int NOT NULL,
    [CreatedAt] datetime2 NOT NULL,
    [Comment] nvarchar(max) NOT NULL,
    [KpiConfirmationId] int NULL,
    CONSTRAINT [PK_KpiValues] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_KpiValues_DynamicValues_ValueId] FOREIGN KEY ([ValueId]) REFERENCES [DynamicValues] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_KpiValues_KpiConfirmations_KpiConfirmationId] FOREIGN KEY ([KpiConfirmationId]) REFERENCES [KpiConfirmations] ([Id]),
    CONSTRAINT [FK_KpiValues_Kpis_KpiId] FOREIGN KEY ([KpiId]) REFERENCES [Kpis] ([Id]) ON DELETE CASCADE
);
2025-08-08 09:58:51.289 +04:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_KpiConfirmations_KpiGroupCompanyId] ON [KpiConfirmations] ([KpiGroupCompanyId]);
2025-08-08 09:58:51.294 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_KpiConfirmationUsers_KpiConfirmationId] ON [KpiConfirmationUsers] ([KpiConfirmationId]);
2025-08-08 09:58:51.301 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_KpiConfirmationUsers_UserId] ON [KpiConfirmationUsers] ([UserId]);
2025-08-08 09:58:51.312 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_KpiGroupCompanys_CompanyId] ON [KpiGroupCompanys] ([CompanyId]);
2025-08-08 09:58:51.320 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_KpiGroupCompanys_KpiGroupId] ON [KpiGroupCompanys] ([KpiGroupId]);
2025-08-08 09:58:51.324 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_KpiGroupCompanys_UserId] ON [KpiGroupCompanys] ([UserId]);
2025-08-08 09:58:51.328 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Kpis_CompanyId] ON [Kpis] ([CompanyId]);
2025-08-08 09:58:51.362 +04:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Kpis_KpiGroupId] ON [Kpis] ([KpiGroupId]);
2025-08-08 09:58:51.371 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_KpiValues_KpiConfirmationId] ON [KpiValues] ([KpiConfirmationId]);
2025-08-08 09:58:51.377 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_KpiValues_KpiId] ON [KpiValues] ([KpiId]);
2025-08-08 09:58:51.387 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_KpiValues_ValueId] ON [KpiValues] ([ValueId]);
2025-08-08 09:58:51.395 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Users_CompanyId] ON [Users] ([CompanyId]);
2025-08-08 09:58:51.450 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-08 09:58:51.458 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-08 09:58:51.485 +04:00 [INF] User profile is available. Using 'C:\Users\zakir\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-08 09:58:51.762 +04:00 [INF] Now listening on: https://localhost:57679
2025-08-08 09:58:51.766 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-08 09:58:51.769 +04:00 [INF] Hosting environment: Development
2025-08-08 09:58:51.771 +04:00 [INF] Content root path: E:\Work\KPI\KpiScope\src\KpiScope.Web
2025-08-08 09:58:58.657 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/ - null null
2025-08-08 09:59:00.016 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/ - 404 0 null 1360.8577ms
2025-08-08 09:59:00.037 +04:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:57679/, Response status code: 404
2025-08-08 09:59:03.464 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/index.html - null null
2025-08-08 09:59:03.565 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/index.html - 200 null text/html; charset=utf-8 100.211ms
2025-08-08 09:59:04.235 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - null null
2025-08-08 09:59:04.342 +04:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-08-08 09:59:04.928 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - 200 null application/json; charset=utf-8 693.5339ms
2025-08-08 10:00:49.830 +04:00 [INF] Request starting HTTP/2 POST https://localhost:57679/auth/login - application/json 50
2025-08-08 10:00:49.850 +04:00 [INF] Executing endpoint 'HTTP: POST /auth/login'
2025-08-08 10:00:50.647 +04:00 [INF] Executed DbCommand (125ms) [Parameters=[@__name_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CompanyId], [u].[Email], [u].[PasswordHash], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__name_0 AND [u].[PasswordHash] = @__password_1
2025-08-08 10:00:50.743 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__name_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CompanyId], [u].[Email], [u].[PasswordHash], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__name_0 AND [u].[PasswordHash] = @__password_1
2025-08-08 10:00:50.848 +04:00 [INF] Executed endpoint 'HTTP: POST /auth/login'
2025-08-08 10:00:50.854 +04:00 [INF] Request finished HTTP/2 POST https://localhost:57679/auth/login - 200 null application/json; charset=utf-8 1025.3486ms
2025-08-08 10:02:12.677 +04:00 [INF] Application is shutting down...
2025-08-08 10:06:39.316 +04:00 [INF] Registered 6 endpoints in 552 milliseconds.
2025-08-08 10:06:40.875 +04:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-08 10:06:41.118 +04:00 [INF] Executed DbCommand (222ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-08 10:06:41.159 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-08 10:06:41.164 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-08 10:07:15.978 +04:00 [INF] Registered 6 endpoints in 527 milliseconds.
2025-08-08 10:07:17.293 +04:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-08 10:07:17.397 +04:00 [INF] Executed DbCommand (80ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-08 10:07:17.441 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-08 10:07:17.450 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-08 10:07:33.668 +04:00 [INF] Registered 6 endpoints in 434 milliseconds.
2025-08-08 10:07:34.689 +04:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-08 10:07:34.734 +04:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-08 10:07:34.767 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-08 10:07:34.771 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-08 10:07:34.794 +04:00 [INF] User profile is available. Using 'C:\Users\zakir\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-08 10:07:34.903 +04:00 [FTL] Application startup exception
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Mvc.Infrastructure.IActionResultExecutor`1[Microsoft.AspNetCore.Mvc.ObjectResult]' while attempting to activate 'AutoWrapper.AutoWrapperMiddleware'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.ReflectionMiddlewareBinder.CreateMiddleware(RequestDelegate next)
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
2025-08-08 10:07:34.914 +04:00 [ERR] Hosting failed to start
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Mvc.Infrastructure.IActionResultExecutor`1[Microsoft.AspNetCore.Mvc.ObjectResult]' while attempting to activate 'AutoWrapper.AutoWrapperMiddleware'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.ReflectionMiddlewareBinder.CreateMiddleware(RequestDelegate next)
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-08-08 10:10:03.215 +04:00 [INF] Registered 6 endpoints in 347 milliseconds.
2025-08-08 10:10:03.985 +04:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-08 10:10:04.043 +04:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-08 10:10:04.076 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-08 10:10:04.082 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-08 10:10:46.915 +04:00 [INF] Registered 6 endpoints in 311 milliseconds.
2025-08-08 10:10:47.713 +04:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-08 10:10:47.777 +04:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-08 10:10:47.806 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-08 10:10:47.810 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-08 10:10:47.855 +04:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-08-08 10:10:47.869 +04:00 [INF] User profile is available. Using 'C:\Users\zakir\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-08 10:10:48.071 +04:00 [INF] Now listening on: https://localhost:57679
2025-08-08 10:10:48.074 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-08 10:10:48.075 +04:00 [INF] Hosting environment: Development
2025-08-08 10:10:48.077 +04:00 [INF] Content root path: E:\Work\KPI\KpiScope\src\KpiScope.Web
2025-08-08 10:10:52.163 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/index.html - null null
2025-08-08 10:10:52.341 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/index.html - 200 null text/html; charset=utf-8 179.1548ms
2025-08-08 10:10:53.350 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - null null
2025-08-08 10:10:53.996 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - 200 null application/json; charset=utf-8 645.963ms
2025-08-08 10:10:55.826 +04:00 [INF] Request starting HTTP/2 POST https://localhost:57679/auth/login - application/json 50
2025-08-08 10:10:55.852 +04:00 [INF] Executing endpoint 'HTTP: POST /auth/login'
2025-08-08 10:10:56.568 +04:00 [INF] Executed DbCommand (53ms) [Parameters=[@__name_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CompanyId], [u].[Email], [u].[PasswordHash], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__name_0 AND [u].[PasswordHash] = @__password_1
2025-08-08 10:10:56.666 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__name_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CompanyId], [u].[Email], [u].[PasswordHash], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__name_0 AND [u].[PasswordHash] = @__password_1
2025-08-08 10:10:56.723 +04:00 [INF] Executed endpoint 'HTTP: POST /auth/login'
2025-08-08 10:10:56.788 +04:00 [INF] Source:[::1] Request: POST https localhost:57679/auth/login  {
  "username": "string",
  "password": "string"
} Responded with [200] in 935ms
2025-08-08 10:10:56.795 +04:00 [INF] Request finished HTTP/2 POST https://localhost:57679/auth/login - 200 445 application/json 968.7801ms
2025-08-08 10:19:39.860 +04:00 [INF] Application is shutting down...
2025-08-08 10:36:03.204 +04:00 [INF] Registered 7 endpoints in 526 milliseconds.
2025-08-08 10:36:04.044 +04:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-08 10:36:04.234 +04:00 [INF] Executed DbCommand (175ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-08 10:36:04.258 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-08 10:36:04.263 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-08 10:36:04.318 +04:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-08-08 10:36:04.340 +04:00 [INF] User profile is available. Using 'C:\Users\zakir\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-08 10:36:04.559 +04:00 [INF] Now listening on: https://localhost:57679
2025-08-08 10:36:04.562 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-08 10:36:04.563 +04:00 [INF] Hosting environment: Development
2025-08-08 10:36:04.564 +04:00 [INF] Content root path: E:\Work\KPI\KpiScope\src\KpiScope.Web
2025-08-08 10:36:11.619 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/index.html - null null
2025-08-08 10:36:11.996 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/index.html - 200 null text/html; charset=utf-8 380.321ms
2025-08-08 10:36:13.490 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - null null
2025-08-08 10:36:14.541 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - 200 null application/json; charset=utf-8 1050.8875ms
2025-08-08 10:36:24.092 +04:00 [INF] Request starting HTTP/2 POST https://localhost:57679/auth/Register - application/json 81
2025-08-08 10:36:24.121 +04:00 [INF] Executing endpoint 'HTTP: POST auth/Register'
2025-08-08 10:36:24.742 +04:00 [INF] Executed DbCommand (52ms) [Parameters=[@__mail_0='?' (Size = 4000), @__username_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CompanyId], [u].[Email], [u].[PasswordHash], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Email] = @__mail_0 OR [u].[Username] = @__username_1
2025-08-08 10:36:24.839 +04:00 [ERR] Already Exsisting User
System.InvalidOperationException: User already exists.
   at KpiScope.Web.Register.RegisterEndpointService.RegisterAsync(RegisterRequest req, CancellationToken ct) in E:\Work\KPI\KpiScope\src\KpiScope.Web\Register\RegisterEndpointService.cs:line 23
2025-08-08 10:36:24.873 +04:00 [ERR] Exception
System.InvalidOperationException: User already exists.
   at KpiScope.Web.Register.ResgisterEndpoint.HandleAsync(RegisterRequest req, CancellationToken ct) in E:\Work\KPI\KpiScope\src\KpiScope.Web\Register\RegisterEndpoint.cs:line 23
2025-08-08 10:36:24.908 +04:00 [INF] Executed endpoint 'HTTP: POST auth/Register'
2025-08-08 10:36:24.962 +04:00 [INF] Source:[::1] Request: POST https localhost:57679/auth/Register  {
  "username": "string",
  "password": "string",
  "email": "user@example.com"
} Responded with [400] in 841ms
2025-08-08 10:36:24.971 +04:00 [INF] Request finished HTTP/2 POST https://localhost:57679/auth/Register - 400 150 application/json 879.2299ms
2025-08-08 10:36:32.535 +04:00 [INF] Request starting HTTP/2 POST https://localhost:57679/auth/Register - application/json 82
2025-08-08 10:36:32.543 +04:00 [INF] Executing endpoint 'HTTP: POST auth/Register'
2025-08-08 10:36:32.559 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__mail_0='?' (Size = 4000), @__username_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CompanyId], [u].[Email], [u].[PasswordHash], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Email] = @__mail_0 OR [u].[Username] = @__username_1
2025-08-08 10:36:32.765 +04:00 [INF] Executed DbCommand (65ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([CompanyId], [Email], [PasswordHash], [Username])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-08-08 10:36:32.794 +04:00 [ERR] An exception occurred in the database while saving changes for context type 'KpiScope.Infrastructure.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Users_Companies_CompanyId". The conflict occurred in database "KPI", table "dbo.Companies", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:b8a4ca50-ee1f-4db6-9a04-b84473487bb0
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Users_Companies_CompanyId". The conflict occurred in database "KPI", table "dbo.Companies", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:b8a4ca50-ee1f-4db6-9a04-b84473487bb0
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-08 10:36:32.810 +04:00 [ERR] Exception Occured
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Users_Companies_CompanyId". The conflict occurred in database "KPI", table "dbo.Companies", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:b8a4ca50-ee1f-4db6-9a04-b84473487bb0
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Ardalis.Specification.EntityFrameworkCore.RepositoryBase`1.SaveChangesAsync(CancellationToken cancellationToken)
   at Ardalis.Specification.EntityFrameworkCore.RepositoryBase`1.AddAsync(T entity, CancellationToken cancellationToken)
   at KpiScope.Web.Register.RegisterEndpointService.RegisterAsync(RegisterRequest req, CancellationToken ct) in E:\Work\KPI\KpiScope\src\KpiScope.Web\Register\RegisterEndpointService.cs:line 27
2025-08-08 10:36:32.827 +04:00 [ERR] Exception
System.InvalidOperationException: An error occurred while saving the entity changes. See the inner exception for details.
   at KpiScope.Web.Register.ResgisterEndpoint.HandleAsync(RegisterRequest req, CancellationToken ct) in E:\Work\KPI\KpiScope\src\KpiScope.Web\Register\RegisterEndpoint.cs:line 23
2025-08-08 10:36:32.830 +04:00 [INF] Executed endpoint 'HTTP: POST auth/Register'
2025-08-08 10:36:32.834 +04:00 [INF] Source:[::1] Request: POST https localhost:57679/auth/Register  {
  "username": "string1",
  "password": "string",
  "email": "user@example.com"
} Responded with [400] in 290ms
2025-08-08 10:36:32.836 +04:00 [INF] Request finished HTTP/2 POST https://localhost:57679/auth/Register - 400 217 application/json 300.5705ms
2025-08-08 10:37:52.921 +04:00 [INF] Application is shutting down...
2025-08-08 10:37:59.347 +04:00 [INF] Registered 7 endpoints in 565 milliseconds.
2025-08-08 10:38:00.228 +04:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-08 10:38:00.313 +04:00 [INF] Executed DbCommand (60ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-08 10:38:00.342 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-08 10:38:00.346 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-08 10:38:00.388 +04:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-08-08 10:38:00.407 +04:00 [INF] User profile is available. Using 'C:\Users\zakir\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-08 10:38:00.626 +04:00 [INF] Now listening on: https://localhost:57679
2025-08-08 10:38:00.628 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-08 10:38:00.630 +04:00 [INF] Hosting environment: Development
2025-08-08 10:38:00.631 +04:00 [INF] Content root path: E:\Work\KPI\KpiScope\src\KpiScope.Web
2025-08-08 10:38:21.947 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/index.html - null null
2025-08-08 10:38:22.109 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/index.html - 200 null text/html; charset=utf-8 162.3842ms
2025-08-08 10:38:22.605 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - null null
2025-08-08 10:38:23.170 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - 200 null application/json; charset=utf-8 564.9202ms
2025-08-08 10:38:29.026 +04:00 [INF] Request starting HTTP/2 POST https://localhost:57679/auth/Register - application/json 101
2025-08-08 10:38:29.069 +04:00 [INF] Executing endpoint 'HTTP: POST auth/Register'
2025-08-08 10:38:29.760 +04:00 [INF] Executed DbCommand (24ms) [Parameters=[@__mail_0='?' (Size = 4000), @__username_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CompanyId], [u].[Email], [u].[PasswordHash], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Email] = @__mail_0 OR [u].[Username] = @__username_1
2025-08-08 10:38:29.951 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([CompanyId], [Email], [PasswordHash], [Username])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-08-08 10:38:30.039 +04:00 [INF] Executed DbCommand (48ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [CompanyId] = @p0, [Email] = @p1, [PasswordHash] = @p2, [Username] = @p3
OUTPUT 1
WHERE [Id] = @p4;
2025-08-08 10:38:30.072 +04:00 [INF] Executed endpoint 'HTTP: POST auth/Register'
2025-08-08 10:38:30.154 +04:00 [INF] Source:[::1] Request: POST https localhost:57679/auth/Register  {
  "username": "string1",
  "password": "string",
  "email": "user@example.com",
  "comapanyId": 1
} Responded with [200] in 1095ms
2025-08-08 10:38:30.162 +04:00 [INF] Request finished HTTP/2 POST https://localhost:57679/auth/Register - 200 163 application/json 1136.0944ms
2025-08-08 10:52:25.909 +04:00 [INF] Application is shutting down...
2025-08-08 12:34:42.282 +04:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-08-08 12:34:42.312 +04:00 [INF] Registered 12 endpoints in 889 milliseconds.
2025-08-08 12:34:42.324 +04:00 [ERR] The route [POST:/Companies/{Id}] has 3 endpoints registered to handle requests!
2025-08-08 12:34:42.327 +04:00 [ERR] The route [POST:/Companies] has 2 endpoints registered to handle requests!
2025-08-08 12:35:40.281 +04:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-08-08 12:35:40.336 +04:00 [INF] Registered 12 endpoints in 1,111 milliseconds.
2025-08-08 12:35:41.900 +04:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-08 12:35:42.093 +04:00 [INF] Executed DbCommand (166ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-08 12:35:42.125 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-08 12:35:42.132 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-08 12:35:42.256 +04:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-08-08 12:35:42.284 +04:00 [INF] User profile is available. Using 'C:\Users\zakir\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-08 12:35:43.579 +04:00 [INF] Now listening on: https://localhost:57679
2025-08-08 12:35:44.265 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-08 12:35:44.269 +04:00 [INF] Hosting environment: Development
2025-08-08 12:35:44.289 +04:00 [INF] Content root path: E:\Work\KPI\KpiScope\src\KpiScope.Web
2025-08-08 12:35:50.893 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/index.html - null null
2025-08-08 12:35:51.076 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/index.html - 200 null text/html; charset=utf-8 184.2052ms
2025-08-08 12:35:52.356 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - null null
2025-08-08 12:35:53.350 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - 200 null application/json; charset=utf-8 994.2759ms
2025-08-08 12:36:00.449 +04:00 [INF] Request starting HTTP/2 POST https://localhost:57679/Companies - application/json 45
2025-08-08 12:36:00.531 +04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08-Aug-25 06:10:56', Current time (UTC): '08-Aug-25 08:36:00'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-08-08 12:36:00.548 +04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08-Aug-25 06:10:56', Current time (UTC): '08-Aug-25 08:36:00'.
2025-08-08 12:36:00.575 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-08 12:36:00.584 +04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-08 12:36:00.590 +04:00 [INF] Request finished HTTP/2 POST https://localhost:57679/Companies - 401 0 null 141.1766ms
2025-08-08 12:37:00.597 +04:00 [INF] Application is shutting down...
2025-08-08 12:37:09.551 +04:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-08-08 12:37:09.580 +04:00 [INF] Registered 12 endpoints in 844 milliseconds.
2025-08-08 12:37:11.203 +04:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-08 12:37:11.341 +04:00 [INF] Executed DbCommand (111ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-08 12:37:11.852 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-08 12:37:11.865 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-08 12:37:11.963 +04:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-08-08 12:37:13.340 +04:00 [INF] User profile is available. Using 'C:\Users\zakir\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-08 12:37:13.998 +04:00 [INF] Now listening on: https://localhost:57679
2025-08-08 12:37:13.999 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-08 12:37:14.001 +04:00 [INF] Hosting environment: Development
2025-08-08 12:37:14.002 +04:00 [INF] Content root path: E:\Work\KPI\KpiScope\src\KpiScope.Web
2025-08-08 12:37:19.502 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/index.html - null null
2025-08-08 12:37:19.650 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/index.html - 200 null text/html; charset=utf-8 148.8463ms
2025-08-08 12:37:19.970 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - null null
2025-08-08 12:37:20.772 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - 200 null application/json; charset=utf-8 802.4363ms
2025-08-08 12:37:23.091 +04:00 [INF] Request starting HTTP/2 POST https://localhost:57679/Companies - application/json 45
2025-08-08 12:37:23.115 +04:00 [INF] Executing endpoint 'HTTP: POST /Companies'
2025-08-08 12:37:23.515 +04:00 [INF] Executed DbCommand (78ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Companies] ([Address], [Name])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-08-08 12:37:23.566 +04:00 [INF] Executed endpoint 'HTTP: POST /Companies'
2025-08-08 12:37:23.603 +04:00 [INF] Source:[::1] Request: POST https localhost:57679/Companies  {
  "name": "string",
  "address": "string"
} Responded with [200] in 492ms
2025-08-08 12:37:23.613 +04:00 [INF] Request finished HTTP/2 POST https://localhost:57679/Companies - 200 84 application/json 521.4008ms
2025-08-08 12:37:30.066 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/Companies - null null
2025-08-08 12:37:30.070 +04:00 [INF] Executing endpoint 'HTTP: GET /Companies'
2025-08-08 12:37:30.315 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[Name]
FROM [Companies] AS [c]
2025-08-08 12:37:30.347 +04:00 [INF] Executed endpoint 'HTTP: GET /Companies'
2025-08-08 12:37:30.382 +04:00 [INF] Source:[::1] Request: GET https localhost:57679/Companies   Responded with [200] in 311ms
2025-08-08 12:37:30.385 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/Companies - 200 248 application/json 318.6676ms
2025-08-08 12:37:39.064 +04:00 [INF] Request starting HTTP/2 DELETE https://localhost:57679/Companies/{Id} - null null
2025-08-08 12:37:39.071 +04:00 [INF] Executing endpoint 'HTTP: DELETE /Companies/{Id}'
2025-08-08 12:37:39.090 +04:00 [INF] Executed endpoint 'HTTP: DELETE /Companies/{Id}'
2025-08-08 12:37:39.098 +04:00 [INF] Source:[::1] Request: DELETE https localhost:57679/Companies/%7BId%7D   Responded with [400] in 27ms
2025-08-08 12:37:39.100 +04:00 [INF] Request finished HTTP/2 DELETE https://localhost:57679/Companies/{Id} - 400 297 application/json 35.8237ms
2025-08-08 12:37:48.018 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/Companies/3 - null null
2025-08-08 12:37:48.037 +04:00 [INF] Executing endpoint 'HTTP: GET /Companies/{Id}'
2025-08-08 12:37:48.213 +04:00 [INF] Executed DbCommand (33ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Address], [c].[Name]
FROM [Companies] AS [c]
WHERE [c].[Id] = @__p_0
2025-08-08 12:37:48.221 +04:00 [INF] Executed endpoint 'HTTP: GET /Companies/{Id}'
2025-08-08 12:37:48.226 +04:00 [ERR] [500]: Unhandled Exception occurred. Unable to process the request.
System.InvalidOperationException: Company not found.
   at KpiScope.Web.Company.CompanyEndpointService.GetAsync(GetCompanyByIdRequest req, CancellationToken ct) in E:\Work\KPI\KpiScope\src\KpiScope.Web\Company\CompanyEndpointService.cs:line 56
   at KpiScope.Web.Company.GetById.GetById.HandleAsync(GetCompanyByIdRequest req, CancellationToken ct) in E:\Work\KPI\KpiScope\src\KpiScope.Web\Company\GetById\GetById.cs:line 13
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at AutoWrapper.Base.WrapperBase.InvokeAsyncBase(HttpContext context, AutoWrapperMembers awm)
2025-08-08 12:37:48.262 +04:00 [INF] Source:[::1] Request: GET https localhost:57679/Companies/3   Responded with [500] in 225ms
2025-08-08 12:37:48.264 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/Companies/3 - 500 165 application/json 246.0986ms
2025-08-08 12:38:04.734 +04:00 [INF] Request starting HTTP/2 DELETE https://localhost:57679/Companies/{Id} - null null
2025-08-08 12:38:04.743 +04:00 [INF] Executing endpoint 'HTTP: DELETE /Companies/{Id}'
2025-08-08 12:38:04.748 +04:00 [INF] Executed endpoint 'HTTP: DELETE /Companies/{Id}'
2025-08-08 12:38:04.755 +04:00 [INF] Source:[::1] Request: DELETE https localhost:57679/Companies/%7BId%7D   Responded with [400] in 11ms
2025-08-08 12:38:04.758 +04:00 [INF] Request finished HTTP/2 DELETE https://localhost:57679/Companies/{Id} - 400 297 application/json 24.7004ms
2025-08-08 12:40:39.835 +04:00 [INF] Application is shutting down...
2025-08-08 12:40:47.893 +04:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-08-08 12:40:47.937 +04:00 [INF] Registered 12 endpoints in 1,286 milliseconds.
2025-08-08 12:40:49.691 +04:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-08 12:40:49.799 +04:00 [INF] Executed DbCommand (86ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-08 12:40:49.826 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-08 12:40:49.832 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-08 12:40:49.886 +04:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-08-08 12:40:49.920 +04:00 [INF] User profile is available. Using 'C:\Users\zakir\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-08 12:40:50.224 +04:00 [INF] Now listening on: https://localhost:57679
2025-08-08 12:40:50.225 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-08 12:40:50.226 +04:00 [INF] Hosting environment: Development
2025-08-08 12:40:50.227 +04:00 [INF] Content root path: E:\Work\KPI\KpiScope\src\KpiScope.Web
2025-08-08 12:40:53.298 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/index.html - null null
2025-08-08 12:40:53.650 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/index.html - 200 null text/html; charset=utf-8 355.1027ms
2025-08-08 12:40:54.934 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - null null
2025-08-08 12:40:58.760 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - 200 null application/json; charset=utf-8 3825.2417ms
2025-08-08 12:41:13.668 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/Companies/2 - null null
2025-08-08 12:41:14.183 +04:00 [INF] Executing endpoint 'HTTP: GET /Companies/{Id}'
2025-08-08 12:41:16.033 +04:00 [INF] Executed DbCommand (55ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Address], [c].[Name]
FROM [Companies] AS [c]
WHERE [c].[Id] = @__p_0
2025-08-08 12:41:16.136 +04:00 [INF] Executed endpoint 'HTTP: GET /Companies/{Id}'
2025-08-08 12:41:16.201 +04:00 [INF] Source:[::1] Request: GET https localhost:57679/Companies/2   Responded with [200] in 2045ms
2025-08-08 12:41:16.206 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/Companies/2 - 200 149 application/json 2538.6307ms
2025-08-08 12:41:27.402 +04:00 [INF] Request starting HTTP/2 PUT https://localhost:57679/Companies/2 - application/json 42
2025-08-08 12:41:27.422 +04:00 [INF] Executing endpoint 'HTTP: PUT /Companies/{Id}'
2025-08-08 12:41:27.503 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Address], [c].[Name]
FROM [Companies] AS [c]
WHERE [c].[Id] = @__p_0
2025-08-08 12:41:27.746 +04:00 [INF] Executed DbCommand (66ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Companies] SET [Address] = @p0, [Name] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-08-08 12:41:27.780 +04:00 [INF] Executed endpoint 'HTTP: PUT /Companies/{Id}'
2025-08-08 12:41:27.785 +04:00 [INF] Source:[::1] Request: PUT https localhost:57679/Companies/2  {
  "name": "string",
  "address": "234"
} Responded with [200] in 366ms
2025-08-08 12:41:27.788 +04:00 [INF] Request finished HTTP/2 PUT https://localhost:57679/Companies/2 - 200 146 application/json 385.7341ms
2025-08-08 12:41:38.299 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/Companies/2 - null null
2025-08-08 12:41:38.307 +04:00 [INF] Executing endpoint 'HTTP: GET /Companies/{Id}'
2025-08-08 12:41:38.331 +04:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Address], [c].[Name]
FROM [Companies] AS [c]
WHERE [c].[Id] = @__p_0
2025-08-08 12:41:38.336 +04:00 [INF] Executed endpoint 'HTTP: GET /Companies/{Id}'
2025-08-08 12:41:38.343 +04:00 [INF] Source:[::1] Request: GET https localhost:57679/Companies/2   Responded with [200] in 36ms
2025-08-08 12:41:38.346 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/Companies/2 - 200 146 application/json 46.1096ms
2025-08-08 12:41:41.960 +04:00 [INF] Request starting HTTP/2 DELETE https://localhost:57679/Companies/2 - null null
2025-08-08 12:41:42.020 +04:00 [INF] Executing endpoint 'HTTP: DELETE /Companies/{Id}'
2025-08-08 12:41:42.114 +04:00 [INF] Executed DbCommand (67ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Address], [c].[Name]
FROM [Companies] AS [c]
WHERE [c].[Id] = @__p_0
2025-08-08 12:41:43.934 +04:00 [INF] Executed DbCommand (1,425ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Companies]
OUTPUT 1
WHERE [Id] = @p0;
2025-08-08 12:41:43.974 +04:00 [INF] Executed endpoint 'HTTP: DELETE /Companies/{Id}'
2025-08-08 12:41:43.979 +04:00 [INF] Source:[::1] Request: DELETE https localhost:57679/Companies/2   Responded with [200] in 1959ms
2025-08-08 12:41:43.981 +04:00 [INF] Request finished HTTP/2 DELETE https://localhost:57679/Companies/2 - 200 86 application/json 2021.1867ms
2025-08-08 12:41:48.675 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/Companies/2 - null null
2025-08-08 12:41:49.126 +04:00 [INF] Executing endpoint 'HTTP: GET /Companies/{Id}'
2025-08-08 12:41:49.148 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Address], [c].[Name]
FROM [Companies] AS [c]
WHERE [c].[Id] = @__p_0
2025-08-08 12:41:49.160 +04:00 [INF] Executed endpoint 'HTTP: GET /Companies/{Id}'
2025-08-08 12:41:49.167 +04:00 [ERR] [500]: Unhandled Exception occurred. Unable to process the request.
System.InvalidOperationException: Company not found.
   at KpiScope.Web.Company.CompanyEndpointService.GetAsync(GetCompanyByIdRequest req, CancellationToken ct) in E:\Work\KPI\KpiScope\src\KpiScope.Web\Company\CompanyEndpointService.cs:line 56
   at KpiScope.Web.Company.GetById.GetById.HandleAsync(GetCompanyByIdRequest req, CancellationToken ct) in E:\Work\KPI\KpiScope\src\KpiScope.Web\Company\GetById\GetById.cs:line 13
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at AutoWrapper.Base.WrapperBase.InvokeAsyncBase(HttpContext context, AutoWrapperMembers awm)
2025-08-08 12:41:49.261 +04:00 [INF] Source:[::1] Request: GET https localhost:57679/Companies/2   Responded with [500] in 134ms
2025-08-08 12:41:49.276 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/Companies/2 - 500 165 application/json 601.6411ms
2025-08-08 13:01:27.440 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/Companies - null null
2025-08-08 13:01:27.481 +04:00 [INF] Executing endpoint 'HTTP: GET /Companies'
2025-08-08 13:01:27.882 +04:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[Name]
FROM [Companies] AS [c]
2025-08-08 13:01:27.969 +04:00 [INF] Executed endpoint 'HTTP: GET /Companies'
2025-08-08 13:01:28.065 +04:00 [INF] Source:[::1] Request: GET https localhost:57679/Companies   Responded with [200] in 586ms
2025-08-08 13:01:28.074 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/Companies - 200 165 application/json 634.7531ms
